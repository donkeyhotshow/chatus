# üöÄ ChatUs v3.0 ‚Äî –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ü–ª–∞—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –£–ª—É—á—à–µ–Ω–∏—è

**–î–∞—Ç–∞:** 26 –î–µ–∫–∞–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 3.0 ‚Üí 3.1
**–°—Ç–∞—Ç—É—Å:** ‚ùå NO-GO ‚Üí üéØ TARGET: ‚úÖ GO

---

## üìä –°–í–û–î–ö–ê –ü–†–û–ë–õ–ï–ú

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (P0) ‚Äî –ë–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–ª–∏–∑
| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ú–æ–¥—É–ª—å | –í–ª–∏—è–Ω–∏–µ |
|---|----------|--------|---------|
| 1 | TicTacToe AI –Ω–µ –¥–µ–ª–∞–µ—Ç —Ö–æ–¥ | Games | –ò–≥—Ä–∞ –Ω–µ–∏–≥—Ä–∞–±–µ–ª—å–Ω–∞ |
| 2 | –ö–æ–Ω—Ç–µ–Ω—Ç —á–∞—Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è —Å–∫—Ä–∏–Ω—Ä–∏–¥–µ—Ä–æ–≤ | Chat/A11y | –ù–∞—Ä—É—à–µ–Ω–∏–µ WCAG |
| 3 | –ü—É—Å—Ç–æ–π —ç–∫—Ä–∞–Ω –ø—Ä–∏ –æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–º JS | Core | –ü–æ—Ç–µ—Ä—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (P1) ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ú–æ–¥—É–ª—å | –í–ª–∏—è–Ω–∏–µ |
|---|----------|--------|---------|
| 4 | Canvas —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 2-5 —Å–µ–∫ | Canvas | –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–∏—Å–æ–≤–∞–Ω–∏–µ —Å–ª–æ–º–∞–Ω–æ |
| 5 | –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å—ä–µ–¥–∞–µ—Ç —ç–∫—Ä–∞–Ω –Ω–∞ iPhone SE | Mobile | 70% –∞—É–¥–∏—Ç–æ—Ä–∏–∏ |
| 6 | –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç input –≤ landscape | Mobile | UX –∫—Ä–∏—Ç–∏—á–µ–Ω |
| 7 | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç focus indicator –¥–ª—è Tab | A11y | Keyboard users |
| 8 | –ö–Ω–æ–ø–∫–∏ < 44x44px (touch targets) | Mobile/A11y | WCAG –Ω–∞—Ä—É—à–µ–Ω–∏–µ |

### –í–∞–∂–Ω—ã–µ (P2) ‚Äî –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏
| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ú–æ–¥—É–ª—å | –í–ª–∏—è–Ω–∏–µ |
|---|----------|--------|---------|
| 9 | Double-tap –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 2 —Å–æ–æ–±—â–µ–Ω–∏—è | Chat | UX –±–∞–≥ |
| 10 | –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è < 4.5:1 | Visual/A11y | WCAG AA |
| 11 | Safe-area-inset –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è | Mobile | iPhone notch |
| 12 | Clicker –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–∏—á—å—è 0:0" –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ | Games | UX –±–∞–≥ |

### –ú–∏–Ω–æ—Ä–Ω—ã–µ (P3) ‚Äî Backlog
| # | –ü—Ä–æ–±–ª–µ–º–∞ | –ú–æ–¥—É–ª—å | –í–ª–∏—è–Ω–∏–µ |
|---|----------|--------|---------|
| 13 | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç Typing Indicator | Chat | Nice-to-have |
| 14 | Remote Cursors –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã | Canvas | Nice-to-have |
| 15 | Memory leak –ø—Ä–∏ –¥–æ–ª–≥–æ–π —Å–µ—Å—Å–∏–∏ Canvas | Performance | Edge case |

---

## üé® –î–ò–ó–ê–ô–ù-–£–õ–£–ß–®–ï–ù–ò–Ø (–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –≤–∏–¥)

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–∏–∑–∞–π–Ω–∞:
1. **–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** ‚Äî —Ä–∞–∑–Ω—ã–µ border-radius, padding, shadows
2. **–ü–ª–æ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω** ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≥–ª—É–±–∏–Ω—ã –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞
3. **–ú–∞–ª–µ–Ω—å–∫–∏–µ –∫–Ω–æ–ø–∫–∏** ‚Äî –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç touch-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ hover-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤** ‚Äî –Ω–∏–∑–∫–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
5. **–ù–µ—Ç –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã** ‚Äî —Ö–∞–æ—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏

### –¶–µ–ª–µ–≤–æ–π –ø—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å:
- Glassmorphism —ç—Ñ—Ñ–µ–∫—Ç—ã
- Subtle –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã
- Micro-interactions
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

---

## üìã –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### PHASE 1: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–ê–ì–ò (P0) ‚Äî 2-3 –¥–Ω—è

#### 1.1 TicTacToe AI Fix
**–§–∞–π–ª:** `src/components/games/TicTacToe.tsx`, `src/hooks/useTicTacToeGame.ts`

```typescript
// –ü—Ä–æ–±–ª–µ–º–∞: AI –Ω–µ –¥–µ–ª–∞–µ—Ç —Ö–æ–¥ –ø–æ—Å–ª–µ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫–∞
// –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É AI –∏ –¥–æ–±–∞–≤–∏—Ç—å debounce

// –í useTicTacToeGame.ts:
const makeAIMove = useCallback(async () => {
  if (gameState.currentPlayer !== 'O' || gameState.isGameOver) return;

  // –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è UX
  await new Promise(resolve => setTimeout(resolve, 500));

  const bestMove = findBestMove(gameState.board);
  if (bestMove !== -1) {
    makeMove(bestMove);
  }
}, [gameState, makeMove]);

// –î–æ–±–∞–≤–∏—Ç—å useEffect –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ö–æ–¥–∞ AI
useEffect(() => {
  if (gameState.currentPlayer === 'O' && !gameState.isGameOver) {
    makeAIMove();
  }
}, [gameState.currentPlayer, gameState.isGameOver, makeAIMove]);
```

#### 1.2 Screen Reader Accessibility
**–§–∞–π–ª—ã:** `src/components/chat/MessageList.tsx`, `src/components/chat/MessageItem.tsx`

```tsx
// –ü—Ä–æ–±–ª–µ–º–∞: –°–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ <div> –±–µ–∑ —Å–µ–º–∞–Ω—Ç–∏–∫–∏
// –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏ –∏ ARIA

// MessageList.tsx
<ul
  role="log"
  aria-label="–°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞"
  aria-live="polite"
  className="message-list"
>
  {messages.map(msg => (
    <MessageItem key={msg.id} message={msg} />
  ))}
</ul>

// MessageItem.tsx
<li
  role="article"
  aria-label={`${message.username} –Ω–∞–ø–∏—Å–∞–ª: ${message.text}`}
  className="message-item"
>
  <span className="sr-only">{message.timestamp}</span>
  ...
</li>
```

#### 1.3 No-JS Fallback
**–§–∞–π–ª:** `src/app/layout.tsx`

```tsx
// –î–æ–±–∞–≤–∏—Ç—å –≤ <head>
<noscript>
  <style>{`
    .app-content { display: none !important; }
    .noscript-message { display: flex !important; }
  `}</style>
</noscript>

// –î–æ–±–∞–≤–∏—Ç—å –≤ <body>
<div className="noscript-message hidden">
  <div className="noscript-card">
    <h1>JavaScript Required</h1>
    <p>–î–ª—è —Ä–∞–±–æ—Ç—ã ChatUs –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∫–ª—é—á–∏—Ç—å JavaScript –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.</p>
  </div>
</div>
```

---

### PHASE 2: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï UX (P1) ‚Äî 3-4 –¥–Ω—è

#### 2.1 Canvas Real-time Sync Optimization
**–§–∞–π–ª—ã:** `src/components/canvas/SharedCanvas.tsx`, `src/services/DrawingService.ts`

```typescript
// –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–¥–µ—Ä–∂–∫–∞ 2-5 —Å–µ–∫ –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
// –†–µ—à–µ–Ω–∏–µ: Batch updates + WebSocket optimization

// DrawingService.ts
class OptimizedDrawingService {
  private strokeBuffer: Stroke[] = [];
  private syncInterval: number = 50; // 50ms batching

  addStroke(stroke: Stroke) {
    this.strokeBuffer.push(stroke);
    this.scheduleSync();
  }

  private scheduleSync = debounce(() => {
    if (this.strokeBuffer.length > 0) {
      this.syncStrokes(this.strokeBuffer);
      this.strokeBuffer = [];
    }
  }, this.syncInterval);

  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Firebase Realtime Database —Å onChildAdded
  // –≤–º–µ—Å—Ç–æ onValue –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
}
```

#### 2.2 Mobile Sidebar Fix (iPhone SE)
**–§–∞–π–ª:** `src/components/layout/UnifiedLayout.tsx`, `src/components/chat/ChatSidebar.tsx`

```tsx
// –ü—Ä–æ–±–ª–µ–º–∞: Sidebar 200px –Ω–∞ —ç–∫—Ä–∞–Ω–µ 375px
// –†–µ—à–µ–Ω–∏–µ: Bottom navigation –¥–ª—è mobile

const MobileLayout = () => {
  const isMobile = useMediaQuery('(max-width: 640px)');

  if (isMobile) {
    return (
      <div className="flex flex-col h-full">
        <main className="flex-1 overflow-hidden">
          {children}
        </main>
        <BottomNavigation />
      </div>
    );
  }

  return <DesktopLayout>{children}</DesktopLayout>;
};

// BottomNavigation.tsx
<nav className="fixed bottom-0 inset-x-0 bg-background border-t safe-area-pb">
  <div className="flex justify-around items-center h-14">
    <NavItem icon={MessageSquare} label="–ß–∞—Ç" />
    <NavItem icon={Brush} label="–†–∏—Å–æ–≤–∞–Ω–∏–µ" />
    <NavItem icon={Gamepad2} label="–ò–≥—Ä—ã" />
    <NavItem icon={Settings} label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" />
  </div>
</nav>
```

#### 2.3 Keyboard Landscape Fix
**–§–∞–π–ª:** `src/components/mobile/KeyboardAwareInput.tsx`

```tsx
// –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç input
// –†–µ—à–µ–Ω–∏–µ: visualViewport API + scroll into view

useEffect(() => {
  const viewport = window.visualViewport;
  if (!viewport) return;

  const handleResize = () => {
    const keyboardHeight = window.innerHeight - viewport.height;
    if (keyboardHeight > 100) {
      // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–∞
      inputRef.current?.scrollIntoView({
        behavior: 'smooth',
        block: 'center'
      });
      document.body.style.paddingBottom = `${keyboardHeight}px`;
    } else {
      document.body.style.paddingBottom = '0';
    }
  };

  viewport.addEventListener('resize', handleResize);
  return () => viewport.removeEventListener('resize', handleResize);
}, []);
```

#### 2.4 Focus Indicator
**–§–∞–π–ª:** `src/app/globals.css`

```css
/* –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –≤–∏–¥–∏–º–æ–≥–æ focus –ø—Ä–∏ Tab –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
/* –†–µ—à–µ–Ω–∏–µ: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ focus —Å—Ç–∏–ª–∏ */

:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
  border-radius: 4px;
}

/* –î–ª—è –∫–Ω–æ–ø–æ–∫ */
button:focus-visible,
[role="button"]:focus-visible {
  ring: 2px;
  ring-color: hsl(var(--primary));
  ring-offset: 2px;
}

/* –î–ª—è inputs */
input:focus-visible,
textarea:focus-visible {
  border-color: hsl(var(--primary));
  box-shadow: 0 0 0 3px hsl(var(--primary) / 0.2);
}
```

#### 2.5 Touch Targets Fix
**–§–∞–π–ª:** `src/components/ui/button.tsx`

```tsx
// –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∏ < 44x44px
// –†–µ—à–µ–Ω–∏–µ: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –≤ variants

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-lg font-medium transition-all",
  {
    variants: {
      size: {
        default: "min-h-[44px] min-w-[44px] px-4 py-2",
        sm: "min-h-[44px] min-w-[44px] px-3 text-sm",
        lg: "min-h-[48px] min-w-[48px] px-6 py-3",
        icon: "h-11 w-11", // 44x44px
      },
    },
    defaultVariants: {
      size: "default",
    },
  }
);
```

---

### PHASE 3: –î–ò–ó–ê–ô–ù-–°–ò–°–¢–ï–ú–ê (–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –≤–∏–¥) ‚Äî 4-5 –¥–Ω–µ–π

#### 3.1 Design Tokens
**–§–∞–π–ª:** `src/styles/design-tokens.css`

```css
:root {
  /* Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* Shadows (Premium) */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
               0 2px 4px -2px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
               0 4px 6px -4px rgba(0, 0, 0, 0.1);
  --shadow-glow: 0 0 20px rgba(99, 102, 241, 0.3);

  /* Glassmorphism */
  --glass-bg: rgba(255, 255, 255, 0.1);
  --glass-border: rgba(255, 255, 255, 0.2);
  --glass-blur: blur(12px);

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 250ms ease;
  --transition-slow: 350ms ease;
}
```

#### 3.2 Premium Button Component
**–§–∞–π–ª:** `src/components/ui/premium-button.tsx`

```tsx
const PremiumButton = ({ children, variant = 'primary', ...props }) => {
  return (
    <motion.button
      whileHover={{ scale: 1.02, y: -2 }}
      whileTap={{ scale: 0.98 }}
      className={cn(
        // Base
        "relative min-h-[48px] min-w-[48px] px-6 py-3",
        "rounded-xl font-semibold",
        "transition-all duration-200",
        "focus-visible:outline-none focus-visible:ring-2",
        "focus-visible:ring-primary focus-visible:ring-offset-2",

        // Variants
        variant === 'primary' && [
          "bg-gradient-to-r from-indigo-500 to-purple-600",
          "text-white shadow-lg shadow-indigo-500/30",
          "hover:shadow-xl hover:shadow-indigo-500/40",
        ],
        variant === 'secondary' && [
          "bg-white/10 backdrop-blur-md",
          "border border-white/20",
          "text-white",
          "hover:bg-white/20",
        ],
        variant === 'ghost' && [
          "bg-transparent",
          "text-foreground",
          "hover:bg-accent",
        ],
      )}
      {...props}
    >
      {children}
    </motion.button>
  );
};
```

#### 3.3 Premium Card Component
**–§–∞–π–ª:** `src/components/ui/premium-card.tsx`

```tsx
const PremiumCard = ({ children, hover = true, glow = false, ...props }) => {
  return (
    <motion.div
      whileHover={hover ? { y: -4, scale: 1.01 } : undefined}
      className={cn(
        // Base
        "relative p-6 rounded-2xl",
        "bg-card/80 backdrop-blur-md",
        "border border-border/50",
        "shadow-lg",
        "transition-all duration-300",

        // Hover
        hover && "hover:shadow-xl hover:border-primary/30",

        // Glow effect
        glow && "hover:shadow-glow",
      )}
      {...props}
    >
      {/* Gradient overlay */}
      <div className="absolute inset-0 rounded-2xl bg-gradient-to-br from-white/5 to-transparent pointer-events-none" />

      {/* Content */}
      <div className="relative z-10">
        {children}
      </div>
    </motion.div>
  );
};
```

#### 3.4 Message Bubble Redesign
**–§–∞–π–ª:** `src/components/chat/MessageBubble.tsx`

```tsx
const MessageBubble = ({ message, isOwn }) => {
  return (
    <motion.div
      initial={{ opacity: 0, y: 10 }}
      animate={{ opacity: 1, y: 0 }}
      className={cn(
        "max-w-[80%] p-4 rounded-2xl",
        "shadow-md",

        isOwn ? [
          "ml-auto",
          "bg-gradient-to-br from-indigo-500 to-purple-600",
          "text-white",
          "rounded-br-md", // Tail effect
        ] : [
          "mr-auto",
          "bg-card/90 backdrop-blur-sm",
          "border border-border/50",
          "text-foreground",
          "rounded-bl-md", // Tail effect
        ]
      )}
    >
      {/* Username */}
      <span className={cn(
        "text-xs font-semibold block mb-1",
        isOwn ? "text-white/80" : "text-primary"
      )}>
        {message.username}
      </span>

      {/* Message text */}
      <p className="text-sm leading-relaxed whitespace-pre-wrap">
        {message.text}
      </p>

      {/* Timestamp */}
      <span className={cn(
        "text-[10px] block mt-2 text-right",
        isOwn ? "text-white/60" : "text-muted-foreground"
      )}>
        {formatTime(message.timestamp)}
      </span>
    </motion.div>
  );
};
```

#### 3.5 Homepage Redesign
**–§–∞–π–ª:** `src/components/home/HomeClient.tsx`

```tsx
const HomeClient = () => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
      {/* Animated background */}
      <div className="absolute inset-0 overflow-hidden">
        <div className="absolute -top-1/2 -left-1/2 w-full h-full bg-gradient-radial from-indigo-500/20 to-transparent animate-pulse" />
        <div className="absolute -bottom-1/2 -right-1/2 w-full h-full bg-gradient-radial from-purple-500/20 to-transparent animate-pulse delay-1000" />
      </div>

      {/* Content */}
      <div className="relative z-10 container mx-auto px-4 py-12">
        {/* Hero */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          className="text-center mb-16"
        >
          <h1 className="text-5xl md:text-7xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent mb-6">
            –ü—Ä–∏–≤–∞—Ç–Ω—ã–π —á–∞—Ç
          </h1>
          <p className="text-xl text-white/70 max-w-2xl mx-auto">
            –û–±—â–∞–π—Ç–µ—Å—å, —Ä–∏—Å—É–π—Ç–µ –∏ –∏–≥—Ä–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
          </p>
        </motion.div>

        {/* Login Form */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay: 0.2 }}
          className="max-w-md mx-auto"
        >
          <PremiumCard glow>
            <LoginForm />
          </PremiumCard>
        </motion.div>

        {/* Features */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ delay: 0.4 }}
          className="grid md:grid-cols-3 gap-6 mt-16"
        >
          <FeatureCard
            icon={MessageSquare}
            title="–ß–∞—Ç"
            description="–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å emoji –∏ —Ä–µ–∞–∫—Ü–∏—è–º–∏"
          />
          <FeatureCard
            icon={Brush}
            title="–†–∏—Å–æ–≤–∞–Ω–∏–µ"
            description="–°–æ–≤–º–µ—Å—Ç–Ω—ã–π canvas –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏"
          />
          <FeatureCard
            icon={Gamepad2}
            title="–ò–≥—Ä—ã"
            description="–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏, –∫–æ—Å—Ç–∏ –∏ –¥—Ä—É–≥–∏–µ –∏–≥—Ä—ã"
          />
        </motion.div>
      </div>
    </div>
  );
};
```

---

### PHASE 4: –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –ò –ö–û–ú–ü–ê–ö–¢–ù–û–°–¢–¨ ‚Äî 2-3 –¥–Ω—è

#### 4.1 Safe Area Support
**–§–∞–π–ª:** `src/app/globals.css`

```css
/* Safe area –¥–ª—è iPhone —Å notch */
.safe-area-pt { padding-top: env(safe-area-inset-top); }
.safe-area-pb { padding-bottom: env(safe-area-inset-bottom); }
.safe-area-pl { padding-left: env(safe-area-inset-left); }
.safe-area-pr { padding-right: env(safe-area-inset-right); }

/* Bottom navigation —Å safe area */
.bottom-nav {
  padding-bottom: calc(env(safe-area-inset-bottom) + 8px);
}

/* Input area —Å safe area */
.message-input-area {
  padding-bottom: env(safe-area-inset-bottom);
}
```

#### 4.2 Responsive Breakpoints
**–§–∞–π–ª:** `tailwind.config.ts`

```typescript
export default {
  theme: {
    screens: {
      'xs': '320px',   // iPhone SE
      'sm': '375px',   // iPhone 12 mini
      'md': '430px',   // iPhone 14 Pro Max
      'lg': '768px',   // iPad
      'xl': '1024px',  // iPad Pro
      '2xl': '1280px', // Desktop
    },
  },
};
```

#### 4.3 Compact Mode –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤
**–§–∞–π–ª:** `src/components/chat/CompactMessageList.tsx`

```tsx
const CompactMessageList = ({ messages }) => {
  const isCompact = useMediaQuery('(max-width: 375px)');

  return (
    <ul className={cn(
      "space-y-2",
      isCompact && "space-y-1" // –ú–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø–æ–≤
    )}>
      {messages.map(msg => (
        <li
          key={msg.id}
          className={cn(
            "p-3 rounded-xl",
            isCompact && "p-2 rounded-lg text-sm" // –ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ
          )}
        >
          {/* Compact: username –∏ –≤—Ä–µ–º—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É */}
          <div className="flex items-center justify-between mb-1">
            <span className="font-semibold text-xs">{msg.username}</span>
            <span className="text-[10px] text-muted-foreground">
              {formatTime(msg.timestamp)}
            </span>
          </div>
          <p className={cn(
            "text-sm",
            isCompact && "text-xs"
          )}>
            {msg.text}
          </p>
        </li>
      ))}
    </ul>
  );
};
```

---

### PHASE 5: –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–û–õ–ò–†–û–í–ö–ê ‚Äî 2 –¥–Ω—è

#### 5.1 Double-tap Prevention
**–§–∞–π–ª:** `src/components/chat/MessageInput.tsx`

```tsx
const [isSending, setIsSending] = useState(false);

const handleSend = async () => {
  if (isSending || !message.trim()) return;

  setIsSending(true);
  try {
    await sendMessage(message);
    setMessage('');
  } finally {
    // Debounce –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è double-tap
    setTimeout(() => setIsSending(false), 300);
  }
};

<Button
  onClick={handleSend}
  disabled={isSending || !message.trim()}
  aria-busy={isSending}
>
  {isSending ? <Loader2 className="animate-spin" /> : <Send />}
</Button>
```

#### 5.2 Contrast Fix
**–§–∞–π–ª:** `src/app/globals.css`

```css
/* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
.message-username {
  color: hsl(var(--foreground)); /* –í–º–µ—Å—Ç–æ text-gray-700 */
  font-weight: 600;
}

/* –ò–ª–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
.dark .message-username {
  color: hsl(220 13% 91%); /* –°–≤–µ—Ç–ª–µ–µ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
}
```

#### 5.3 Clicker Game Fix
**–§–∞–π–ª:** `src/components/games/ClickWar.tsx`

```tsx
const ClickWar = () => {
  const [gameState, setGameState] = useState<'idle' | 'playing' | 'finished'>('idle');
  const [scores, setScores] = useState({ player: 0, opponent: 0 });

  // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å "–ù–∏—á—å—è" —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ gameState === 'finished'
  const showResult = gameState === 'finished';

  return (
    <div>
      {gameState === 'idle' && (
        <Button onClick={startGame}>–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</Button>
      )}

      {gameState === 'playing' && (
        <div>
          <p>–°—á—ë—Ç: {scores.player}</p>
          <Button onClick={handleClick}>–ö–õ–ò–ö!</Button>
        </div>
      )}

      {showResult && (
        <div>
          {scores.player === scores.opponent
            ? `–ù–∏—á—å—è ${scores.player}:${scores.opponent}`
            : scores.player > scores.opponent
              ? '–í—ã –ø–æ–±–µ–¥–∏–ª–∏!'
              : '–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!'
          }
        </div>
      )}
    </div>
  );
};
```

---

## üìÖ TIMELINE

| –§–∞–∑–∞ | –ó–∞–¥–∞—á–∏ | –î–Ω–∏ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|------|--------|-----|-----------|
| **Phase 1** | P0 Blockers (TicTacToe, A11y, No-JS) | 2-3 | üî¥ CRITICAL |
| **Phase 2** | P1 Critical (Canvas, Mobile, Focus) | 3-4 | üî¥ CRITICAL |
| **Phase 3** | Design System (Premium UI) | 4-5 | üü° HIGH |
| **Phase 4** | Responsive & Compact | 2-3 | üü° HIGH |
| **Phase 5** | Polish (Double-tap, Contrast) | 2 | üü¢ MEDIUM |

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** 13-17 –¥–Ω–µ–π

---

## ‚úÖ CHECKLIST –ü–ï–†–ï–î –†–ï–õ–ò–ó–û–ú

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] TicTacToe AI –¥–µ–ª–∞–µ—Ç —Ö–æ–¥—ã
- [ ] Canvas —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è < 500ms
- [x] Double-tap –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- [x] Clicker –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–ù–∏—á—å—è" –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

### Accessibility
- [x] Screen reader —á–∏—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
- [x] Focus indicator –≤–∏–¥–µ–Ω –ø—Ä–∏ Tab
- [x] –í—Å–µ –∫–Ω–æ–ø–∫–∏ ‚â• 44x44px
- [x] –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å ‚â• 4.5:1
- [ ] No-JS fallback –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ

### Mobile
- [x] iPhone SE (375px) ‚Äî –Ω–µ—Ç sidebar, bottom nav
- [x] Landscape ‚Äî –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç input
- [x] Safe area ‚Äî –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø–æ–¥ notch
- [x] Touch targets ‚Äî –≤—Å–µ ‚â• 44px

### Design
- [x] –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ border-radius
- [x] –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ shadows
- [x] Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö
- [x] –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

---

## üéØ –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

| –ú–µ—Ç—Ä–∏–∫–∞ | –¢–µ–∫—É—â–µ–µ | –¶–µ–ª—å |
|---------|---------|------|
| Lighthouse Performance | 92 | ‚â• 90 ‚úÖ |
| Lighthouse Accessibility | 65 | ‚â• 90 |
| Lighthouse Best Practices | 100 | ‚â• 90 ‚úÖ |
| Touch Target Compliance | 60% | 100% |
| WCAG AA Compliance | 70% | 100% |
| Mobile Usability | 75% | 95% |

---

## üìù –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

ChatUs v3.0 –∏–º–µ–µ—Ç —Å–æ–ª–∏–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é –±–∞–∑—É, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω–∞–¥:
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –±–∞–≥–∞–º–∏** (TicTacToe, Canvas sync)
2. **Accessibility** (screen readers, focus, contrast)
3. **Mobile UX** (sidebar, keyboard, safe area)
4. **–í–∏–∑—É–∞–ª—å–Ω–æ–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é** (design system)

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É —Å –æ—Ü–µ–Ω–∫–æ–π **‚úÖ GO**.
