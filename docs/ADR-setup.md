# ADR: Выбор стратегии локальной подготовки окружения

Дата: 2025-12-12

Контекст
- Нужно предоставить воспроизводимую и предсказуемую процедуру локальной подготовки окружения для разработчиков (фронтенд + опционально backend).

Требования
Требования
- Кроссплатформенность (Windows/Unix), простота использования, отсутствие хардкод-секретов.
- Минимальные версии:
  - Node.js >= 20
  - npm: актуальная стабильная
  - Python >= 3.11 (если backend присутствует)

Варианты
1) Один bash-скрипт (как в исходном запросе).
  - Плюсы: компактно, знакомо для Unix-пользователей.
  - Минусы: неудобно на Windows без WSL.
  - Оценка риска: low для Unix, medium для Windows.

2) Два скрипта: bash + PowerShell + пример .env в `docs/`.
  - Плюсы: кроссплатформенно, разработчики могут запускать нативно.
  - Минусы: больше поддерживаемого кода.
  - Оценка риска: low.

3) Docker-based локальная среда с Compose.
  - Плюсы: единообразие окружения, легко воспроизводимо.
  - Минусы: требует Docker, повышенная сложность, потенциальные проблемы с производительностью.
  - Оценка риска: medium → high (если команда не использует Docker).

Выбранный вариант
- Вариант 2: два скрипта (bash + PowerShell) и пример `.env` в `docs/`.
  - Обоснование: обеспечивает наибольшую предсказуемость на разных ОС при минимальном риске; не внедряет новые инфраструктурные зависимости (как Docker).

Ограничения и риски
- Скрипты не выполняют никаких изменений с секретами; `.env.local` не должен попадать в VCS.
- Если проект уже использует Docker/Compose, рекомендую добавить отдельный экспериментальный профиль (см. раздел «Эксперименты»).

План отката
- Удаление добавленных скриптов и документации — обратимая операция (git revert).


